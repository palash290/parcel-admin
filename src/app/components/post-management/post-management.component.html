<div class="ct_px_30 ct_mt_30 pb-4">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="d-flex align-items-center justify-content-between mb-3 ct_flex_col_767 gap-3">
                    <h4 class="ct_fs_24 ct_fw_600 mb-0 ct_text_061F61 ct_ff_Saira">Post Management</h4>
                    <div class="d-flex align-items-center gap-2 ct_w_100_767 ct_flex_col_767">
                        <div class="ct_search ct_w_100_767">
                            <input type="text" class="form-control" placeholder="Search " [(ngModel)]="searchText"
                                (input)="filterTable()"/>
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </div>
                    </div>
                </div>

                <div class="table-responsive ct_custom_table">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>S.No</th>
                                <!-- <th>User</th> -->
                                <th>Title</th>
                                <th>Posted On</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngIf="filteredData.length == 0">
                                <td colspan="8" class="text-center">No posts found</td>
                            </tr>
                            <!--  -->
                            <tr
                                *ngFor="let item of filteredData | paginate: { itemsPerPage: 10, currentPage: p }; let i = index">
                                <td>{{(p - 1) * 10 + i + 1}}</td>
                                <td>
                                    <span class="ct_overlay_text">{{item.title}}</span>
                                </td>
                                <td>
                                    {{item.created_at | date:'dd-MMM-yyyy'}}
                                </td>
                                <!-- <td>altonrodriguezgmail.com</td> -->
                                <td>
                                    <div class="d-flex align-items-center gap-3">
                                        <a [routerLink]="['/home/view-post']"
                                            [queryParams]="{ property_reel_id: item.property_reel_id }" class="ct_text_39A1FF">
                                            <i class="fa-solid fa-eye"></i>
                                        </a>
                                        <a href="javascript:void(0)" class="ct_red_clr" data-bs-toggle="modal"
                                            data-bs-target="#ct_delete_modal" (click)="getPostId(item.property_reel_id)">
                                            <i class="fa-solid fa-trash-can"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- (pageChange)="onPageChange($event)" -->
                <pagination-controls class="ct_pagination_div" *ngIf="!(data?.length == 0)"
                    (pageChange)="p = $event"></pagination-controls>
            </div>
        </div>
    </div>
</div>

<!-- Delete Modal S -->
<div class="modal fade modal-md" id="ct_delete_modal" tabindex="-1" aria-labelledby="ct_unlink_modalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0 pb-0">
                <!-- <h5 class="modal-title ct_fs_24 ct_ff_QuattrocentoSans ct_fw_700 mb-0"
                            id="ct_unlink_modalLabel">
                            Image Preview
                        </h5> -->
                <button type="button" class="btn-close ct_custom_close_img" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <div class=" mx-auto mb-4">
                    <svg width="49" height="54" viewBox="0 0 49 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_1_8145)">
                            <mask id="mask0_1_8145" style="mask-type: luminance" maskUnits="userSpaceOnUse" x="0" y="3"
                                width="49" height="48">
                                <path d="M48.5 3H0.5V51H48.5V3Z" fill="white" />
                            </mask>
                            <g mask="url(#mask0_1_8145)">
                                <path
                                    d="M24.4972 7.03125C25.9072 7.09378 26.98 7.71878 27.7156 8.90625L47.5777 43.4062C48.1907 44.6562 48.1907 45.9062 47.5777 47.1562C46.8421 48.3438 45.7693 48.9688 44.3593 49.0312H4.63519C3.22523 48.9688 2.15243 48.3438 1.4168 47.1562C0.803775 45.9062 0.803775 44.6562 1.4168 43.4062L21.3708 8.90625C22.1064 7.71878 23.1486 7.09378 24.4972 7.03125ZM24.4972 19.0312C23.1486 19.1562 22.4129 19.9062 22.2903 21.2812V31.7812C22.4129 33.1562 23.1486 33.9062 24.4972 34.0312C25.8459 33.9062 26.5815 33.1562 26.7041 31.7812V21.2812C26.5815 19.9062 25.8459 19.1562 24.4972 19.0312ZM27.4398 40.0312C27.4398 39.1562 27.164 38.4375 26.6122 37.875C26.0605 37.3125 25.3555 37.0312 24.4972 37.0312C23.639 37.0312 22.9341 37.3125 22.3823 37.875C21.8306 38.4375 21.5547 39.1562 21.5547 40.0312C21.5547 40.9062 21.8306 41.625 22.3823 42.1875C22.9341 42.75 23.639 43.0312 24.4972 43.0312C25.3555 43.0312 26.0605 42.75 26.6122 42.1875C27.164 41.625 27.4398 40.9062 27.4398 40.0312Z"
                                    fill="#FF0000" />
                            </g>
                        </g>
                        <defs>
                            <clipPath id="clip0_1_8145">
                                <rect width="48" height="53.3335" fill="white" transform="translate(0.5 0.333984)" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <h4 class="ct_fs_20 ct_fw_600 ct_text_061F61">
                    Delete Post?
                </h4>
                <p class="mb-0  ct_text_666">Are you sure you want to delete this post? This action cannot be undone.
                </p>
                <div class="d-flex align-items-center gap-3 mt-4 justify-content-center">
                    <button class="ct_outline_btn px-5 py-2 w-100 ct_fw_600" data-bs-dismiss="modal">Cancel</button>
                    <button class="ct_dark_green_btn px-5 py-2 w-100 ct_fw_600" (click)="deletePost()">Yes</button>
                </div>
                        <button hidden type="button" class="btn btn-secondary" #closeModalDelete
                    data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Delete Modal E -->

<div class="ct_loader_main" *ngIf="isLoading">
    <span class="loader"></span>
</div>